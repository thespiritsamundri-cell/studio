
@media print {
  @page {
    size: A4;
    margin: 0.25in;
  }
  
  [data-orientation="landscape"] {
    @page {
        size: A4 landscape;
    }
  }

  .voucher-page {
    page-break-after: always;
  }
  
  .voucher-page:last-child {
      page-break-after: auto;
  }

  /* --- 1 Copy per Page --- */
  [data-print-copies="1"] .voucher-page {
    page-break-inside: avoid;
  }
  [data-print-copies="1"] .voucher-wrapper {
    page-break-after: always; /* Each slip on a new page */
    height: 98vh;
    width: 100%;
  }
  [data-print-copies="1"] .voucher-page:last-child .voucher-wrapper:last-child {
     page-break-after: auto;
  }


  /* --- 2 Copies per Page --- */
  [data-print-copies="2"] .voucher-page {
    page-break-inside: avoid;
    display: flex;
    flex-direction: column;
    height: 98vh;
    justify-content: space-between;
    gap: 0.25in;
  }
  [data-print-copies="2"] .voucher-wrapper {
    height: 48%;
    width: 100%;
    box-sizing: border-box;
  }
  /* Ensure the 3rd copy goes to the next page */
  [data-print-copies="2"] .voucher-wrapper:nth-child(3) {
    page-break-before: always;
  }

  /* --- 3 Copies per Page (Landscape) --- */
  @page landscape-page {
    size: A4 landscape;
  }
  [data-print-copies="3"] .voucher-page {
    page: landscape-page;
    page-break-inside: avoid;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: stretch;
    width: 100%;
    height: 98vh;
    gap: 0.25in;
  }
  [data-print-copies="3"] .voucher-wrapper {
    width: 32%;
    height: 100%;
    box-sizing: border-box;
    display: flex; /* Ensure inner content can grow */
  }
}
